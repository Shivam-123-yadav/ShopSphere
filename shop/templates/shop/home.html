{% extends "base.html" %}
{% load static %}

{% block content %}

  <!-- Hero Section -->
  <section class="py-5 text-center text-white hero-section position-relative" style="background: url('{% static 'images/back.jpg' %}') no-repeat center center; background-size: cover;">
    <div class="hero-overlay position-absolute top-0 start-0 w-100 h-100" style="background:rgba(30,30,30,0.55);"></div>
    <div class="container py-5 position-relative" style="z-index:2;">
      <h1 class="display-4 fw-bold animate__animated animate__fadeInDown">Welcome to <span class="text-gradient">MyShop</span> ðŸ›’</h1>
      <p class="lead animate__animated animate__fadeInUp">Providing quality products at unbeatable prices since 2025.</p>
      <a href="/products/" class="btn btn-warning btn-lg mt-3 fw-bold shadow animate__animated animate__pulse animate__infinite">Shop Now</a>
    </div>
  </section>


<div class="mt-5 animate__animated animate__fadeInUp">
  <h4 class="mb-4 fw-bold text-gradient"><i class="fas fa-th-large me-2"></i>Shop by Category</h4>
  <div class="row g-3">
    <div class="col-6 col-md-4 col-lg-2">
      <a href="/category/mobiles/" class="category-btn">
        <i class="fas fa-mobile-alt fa-2x mb-2"></i><br>Mobiles
      </a>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <a href="/category/computers/" class="category-btn">
        <i class="fas fa-laptop fa-2x mb-2"></i><br>Computers
      </a>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <a href="/category/tv-appliances-electronics/" class="category-btn">
        <i class="fas fa-tv fa-2x mb-2"></i><br>TV & Electronics
      </a>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <a href="/category/mens-fashion/" class="category-btn">
        <i class="fas fa-male fa-2x mb-2"></i><br>Men's Fashion
      </a>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <a href="/category/womens-fashion/" class="category-btn">
        <i class="fas fa-female fa-2x mb-2"></i><br>Women's Fashion
      </a>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <a href="/categories/" class="category-btn category-btn-secondary">
        <i class="fas fa-th-list fa-2x mb-2"></i><br>See All
      </a>
    </div>
  </div>
</div>

</div>



  <!-- Featured Products -->
  <div class="container-fluid px-3 py-4 bg-light animate__animated animate__fadeInUp">
    <h2 class="mb-4 text-center fw-bold text-gradient"><i class="fas fa-star me-2"></i>Featured Products</h2>
    <div class="row g-3 g-sm-4">
      {% for product in products %}
        <div class="col-6 col-sm-6 col-md-4 col-lg-3 col-xl-2">
          <div class="card h-100 border-0 shadow-lg product-card position-relative overflow-hidden animate__animated animate__zoomIn" style="transition:transform 0.2s;">
            <div class="position-relative">
              {% if product.images.all %}
                <img src="{{ product.images.all.0.image.url }}" class="card-img-top product-img" style="height: 160px; object-fit: cover; border-radius:1.2rem 1.2rem 0 0;" alt="{{ product.images.all.0.alt_text }}">
              {% else %}
                <img src="https://via.placeholder.com/300x200" class="card-img-top product-img" style="height: 160px; object-fit: cover; border-radius:1.2rem 1.2rem 0 0;" alt="{{ product.name }}">
              {% endif %}
              {% if product.discount_price %}
                <span class="badge bg-success position-absolute top-0 end-0 m-2 shadow-sm">â‚¹{{ product.discount_price }}</span>
              {% else %}
                <span class="badge bg-warning text-dark position-absolute top-0 end-0 m-2 shadow-sm">â‚¹{{ product.price }}</span>
              {% endif %}
              <div class="product-img-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="background:rgba(0,0,0,0.18); opacity:0; transition:opacity 0.3s;">
                <a href="{% url 'product_detail' product.slug %}" class="btn btn-light btn-sm fw-bold shadow">View <i class="fas fa-arrow-right ms-1"></i></a>
              </div>
            </div>
            <div class="card-body p-2 d-flex flex-column justify-content-between">
              <h5 class="card-title fs-6 text-truncate fw-bold">{{ product.name }}</h5>
              <p class="card-text small text-muted text-truncate">{{ product.description|truncatewords:12 }}</p>
              {% if product.discount_price %}
                <small class="text-muted text-decoration-line-through">â‚¹{{ product.price }}</small>
              {% endif %}
              <div class="mt-2 d-flex justify-content-between">
                <a href="{% url 'product_detail' product.slug %}" class="btn btn-sm btn-outline-warning fw-bold">View</a>
                <a href="{% url 'cart_add' product.id %}" class="btn btn-sm btn-warning fw-bold">Add</a>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <p class="text-muted text-center">No products available at the moment.</p>
      {% endfor %}
    </div>
  </div>

<style>
.text-gradient {
  background: linear-gradient(90deg, #FFD700, #FFA500 80%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.category-btn {
  display: block;
  background: #fffbe6;
  border: 2px solid #FFD700;
  border-radius: 1.2rem;
  text-align: center;
  padding: 1.2rem 0.5rem 0.7rem;
  font-weight: 600;
  color: #222;
  text-decoration: none;
  box-shadow: 0 4px 18px #FFD70011;
  transition: background 0.2s, box-shadow 0.2s, transform 0.18s;
  margin-bottom: 0.5rem;
}
.category-btn i {
  color: #FFA500;
  transition: color 0.2s;
}
.category-btn:hover, .category-btn:focus {
  background: linear-gradient(90deg, #fffbe6 60%, #fff3cd 100%);
  box-shadow: 0 8px 32px #FFD70033;
  color: #000;
  transform: translateY(-4px) scale(1.04);
  text-decoration: none;
}
.category-btn:hover i, .category-btn:focus i {
  color: #FFD700;
}
.category-btn-secondary {
  border: 2px dashed #FFA500;
  background: #f8f9fa;
}
.product-card {
  border-radius: 1.2rem;
  box-shadow: 0 6px 32px rgba(0,0,0,0.10);
  transition: transform 0.18s, box-shadow 0.18s;
}
.product-card:hover {
  transform: translateY(-7px) scale(1.03);
  box-shadow: 0 12px 36px #FFD70033;
}
.product-img-overlay {
  opacity: 0;
  pointer-events: none;
}
.product-card:hover .product-img-overlay {
  opacity: 1;
  pointer-events: auto;
}
.product-img {
  transition: filter 0.3s;
}
.product-card:hover .product-img {
  filter: brightness(0.85) blur(1px);
}
@media (max-width: 576px) {
  .category-btn { padding: 0.8rem 0.2rem 0.5rem; font-size: 0.98rem; }
  .category-btn i { font-size: 1.3rem !important; }
  .product-img { height: 110px !important; }
}
</style>
{% endblock %}
